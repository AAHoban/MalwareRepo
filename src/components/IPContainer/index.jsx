import React from 'react';
import { useAppContext } from '../../context';
import './style.css';

export const IPContainer = () => {
  const Context = useAppContext();
  const [appState] = Context;

  const isLocationEmpty = Object.keys(appState.location).length === 0;

  return (
    <div className="LocationWrapper">
      <div className="row">
        <div className="col-4">
          <h4>IP Address:</h4>
          <span>
            {!isLocationEmpty && appState.error.hasError === false
              ? appState.location.ip
              : ''}
          </span>
        </div>
        <div className="col-4">
          <h4>Location:</h4>
          <span>
            {!isLocationEmpty && appState.error.hasError === false
              ? `${appState.location.location.region}, ${appState.location.location.country}`
              : ''}
          </span>
        </div>
        <div className="col-4">
          <h4>Timezone:</h4>
          <span>
            {!isLocationEmpty && appState.error.hasError === false
              ? appState.location.location.timezone
              : ''}
          </span>
        </div>
        <div className="col-4">
          <h4>ISP:</h4>
          <span>
            {!isLocationEmpty && appState.error.hasError === false
              ? appState.location.isp
              : ''}
          </span>
        </div>
      </div>
    </div>
  );
};
